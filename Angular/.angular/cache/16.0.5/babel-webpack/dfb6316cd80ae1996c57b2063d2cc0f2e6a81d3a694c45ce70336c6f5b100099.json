{"ast":null,"code":"import _asyncToGenerator from \"/Users/admin-mac/Documents/Ayush Workspace/JoyFIll/Example Repo (JoyFill)/examples/Angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nconst joyfillFunction = {\n  joyfillGenerate: function () {\n    var _ref = _asyncToGenerator(function* (identifier, userAccessToken) {\n      const response = yield fetch(\"https://api-joy.joyfill.io/v1/documents/exports/pdf\", {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          Authorization: `Bearer ${userAccessToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          document: identifier\n        })\n      });\n      const data = yield response.json();\n      return data.download_url;\n    });\n    return function joyfillGenerate(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }(),\n  joyfillRetrieve: function () {\n    var _ref2 = _asyncToGenerator(function* (documentIdentifier, userAccessToken) {\n      console.log('this is example');\n      const response = yield fetch(`https://api-joy.joyfill.io/v1/documents/${documentIdentifier}`, {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          Authorization: `Bearer ${userAccessToken}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = yield response.json();\n      return data;\n    });\n    return function joyfillRetrieve(_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }(),\n  joyfillSave: function () {\n    var _ref3 = _asyncToGenerator(function* (doc, userAccessToken) {\n      const response = yield fetch(`https://api-joy.joyfill.io/v1/documents/${doc.identifier}`, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          Authorization: `Bearer ${userAccessToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          type: \"document\",\n          stage: \"published\",\n          name: \"ACME_WorkOrder\",\n          files: [doc.files[0]]\n        })\n      });\n      const data = yield response.json();\n      return data;\n    });\n    return function joyfillSave(_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }(),\n  getDataUriForFileUpload: function () {\n    var _ref4 = _asyncToGenerator(function* (fileUpload) {\n      return new Promise((ful, rej) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(fileUpload);\n        reader.onloadend = /*#__PURE__*/_asyncToGenerator(function* () {\n          ful(reader.result);\n        });\n      });\n    });\n    return function getDataUriForFileUpload(_x7) {\n      return _ref4.apply(this, arguments);\n    };\n  }(),\n  uploadFileAsync: function () {\n    var _ref6 = _asyncToGenerator(function* (documentId, dataUri, userAccessToken) {\n      const response = yield fetch(`https://api-joy.joyfill.io/v1/documents/${documentId}/files/datauri`, {\n        method: 'POST',\n        mode: 'no-cors',\n        headers: {\n          Authorization: `Bearer ${userAccessToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          file: dataUri\n        })\n      });\n      const data = yield response.json();\n      return data;\n    });\n    return function uploadFileAsync(_x8, _x9, _x10) {\n      return _ref6.apply(this, arguments);\n    };\n  }(),\n  convertPDFPagesToBase64Async: function () {\n    var _ref7 = _asyncToGenerator(function* (dataUri, userAccessToken) {\n      try {\n        const response = yield fetch(`https://api-joy.joyfill.io/v1/utilities/pdf/to/png/datauri`, {\n          method: 'POST',\n          mode: 'no-cors',\n          headers: {\n            Authorization: `Bearer ${userAccessToken}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            file: dataUri\n          })\n        });\n        return yield response.json();\n      } catch (error) {\n        throw error;\n      }\n    });\n    return function convertPDFPagesToBase64Async(_x11, _x12) {\n      return _ref7.apply(this, arguments);\n    };\n  }()\n};\nexport default joyfillFunction;","map":{"version":3,"names":["joyfillFunction","joyfillGenerate","_ref","_asyncToGenerator","identifier","userAccessToken","response","fetch","method","mode","headers","Authorization","body","JSON","stringify","document","data","json","download_url","_x","_x2","apply","arguments","joyfillRetrieve","_ref2","documentIdentifier","console","log","_x3","_x4","joyfillSave","_ref3","doc","type","stage","name","files","_x5","_x6","getDataUriForFileUpload","_ref4","fileUpload","Promise","ful","rej","reader","FileReader","readAsDataURL","onloadend","result","_x7","uploadFileAsync","_ref6","documentId","dataUri","file","_x8","_x9","_x10","convertPDFPagesToBase64Async","_ref7","error","_x11","_x12"],"sources":["/Users/admin-mac/Documents/Ayush Workspace/JoyFIll/Example Repo (JoyFill)/examples/Angular/src/api.js"],"sourcesContent":["\nconst joyfillFunction = {\n\n  joyfillGenerate: async (identifier, userAccessToken) => {\n    const response = await fetch(\"https://api-joy.joyfill.io/v1/documents/exports/pdf\", {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${userAccessToken}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ document: identifier })\n    });\n    const data = await response.json();\n    return data.download_url;\n  },\n\n\n  joyfillRetrieve: async (documentIdentifier, userAccessToken) => {\n    console.log('this is example')\n    const response = await fetch(`https://api-joy.joyfill.io/v1/documents/${documentIdentifier}`, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${userAccessToken}`,\n        'Content-Type': 'application/json'\n      },\n    });\n    const data = await response.json();\n    return data;\n  },\n\n\n  joyfillSave: async (doc, userAccessToken) => {\n    const response = await fetch(`https://api-joy.joyfill.io/v1/documents/${doc.identifier}`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        Authorization: `Bearer ${userAccessToken}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        type: \"document\",\n        stage: \"published\",\n        name: \"ACME_WorkOrder\",\n        files: [doc.files[0]]\n      })\n    });\n    const data = await response.json();\n    return data;\n  },\n\n\n  getDataUriForFileUpload: async (fileUpload) => {\n    return new Promise((ful, rej) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(fileUpload);\n      reader.onloadend = async () => {\n        ful(reader.result);\n      };\n    });\n  },\n\n  uploadFileAsync: async (documentId, dataUri, userAccessToken) => {\n    const response = await fetch(`https://api-joy.joyfill.io/v1/documents/${documentId}/files/datauri`, {\n      method: 'POST',\n      mode: 'no-cors',\n      headers: {\n        Authorization: `Bearer ${userAccessToken}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ file: dataUri })\n    });\n    const data = await response.json();\n    return data;\n  },\n\n  convertPDFPagesToBase64Async: async (dataUri, userAccessToken) => {\n    try {\n      const response = await fetch(`https://api-joy.joyfill.io/v1/utilities/pdf/to/png/datauri`, {\n        method: 'POST',\n        mode: 'no-cors',\n        headers: {\n          Authorization: `Bearer ${userAccessToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ file: dataUri })\n      });\n      return await response.json();\n    } catch (error) {\n      throw error;\n    }\n  },\n}\n\n\nexport default joyfillFunction\n"],"mappings":";AACA,MAAMA,eAAe,GAAG;EAEtBC,eAAe;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAE,WAAOC,UAAU,EAAEC,eAAe,EAAI;MACrD,MAAMC,QAAQ,SAASC,KAAK,CAAC,qDAAqD,EAAE;QAClFC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE,MAAM;QACZC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUN,eAAe,EAAE;UAC1C,cAAc,EAAE;SACjB;QACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,QAAQ,EAAEX;QAAU,CAAE;OAC9C,CAAC;MACF,MAAMY,IAAI,SAASV,QAAQ,CAACW,IAAI,EAAE;MAClC,OAAOD,IAAI,CAACE,YAAY;IAC1B,CAAC;IAAA,gBAAAjB,gBAAAkB,EAAA,EAAAC,GAAA;MAAA,OAAAlB,IAAA,CAAAmB,KAAA,OAAAC,SAAA;IAAA;EAAA;EAGDC,eAAe;IAAA,IAAAC,KAAA,GAAArB,iBAAA,CAAE,WAAOsB,kBAAkB,EAAEpB,eAAe,EAAI;MAC7DqB,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;MAC9B,MAAMrB,QAAQ,SAASC,KAAK,CAAC,2CAA2CkB,kBAAkB,EAAE,EAAE;QAC5FjB,MAAM,EAAE,KAAK;QACbC,IAAI,EAAE,MAAM;QACZC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUN,eAAe,EAAE;UAC1C,cAAc,EAAE;;OAEnB,CAAC;MACF,MAAMW,IAAI,SAASV,QAAQ,CAACW,IAAI,EAAE;MAClC,OAAOD,IAAI;IACb,CAAC;IAAA,gBAAAO,gBAAAK,GAAA,EAAAC,GAAA;MAAA,OAAAL,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA;EAGDQ,WAAW;IAAA,IAAAC,KAAA,GAAA5B,iBAAA,CAAE,WAAO6B,GAAG,EAAE3B,eAAe,EAAI;MAC1C,MAAMC,QAAQ,SAASC,KAAK,CAAC,2CAA2CyB,GAAG,CAAC5B,UAAU,EAAE,EAAE;QACxFI,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE,MAAM;QACZC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUN,eAAe,EAAE;UAC1C,cAAc,EAAE;SACjB;QACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBmB,IAAI,EAAE,UAAU;UAChBC,KAAK,EAAE,WAAW;UAClBC,IAAI,EAAE,gBAAgB;UACtBC,KAAK,EAAE,CAACJ,GAAG,CAACI,KAAK,CAAC,CAAC,CAAC;SACrB;OACF,CAAC;MACF,MAAMpB,IAAI,SAASV,QAAQ,CAACW,IAAI,EAAE;MAClC,OAAOD,IAAI;IACb,CAAC;IAAA,gBAAAc,YAAAO,GAAA,EAAAC,GAAA;MAAA,OAAAP,KAAA,CAAAV,KAAA,OAAAC,SAAA;IAAA;EAAA;EAGDiB,uBAAuB;IAAA,IAAAC,KAAA,GAAArC,iBAAA,CAAE,WAAOsC,UAAU,EAAI;MAC5C,OAAO,IAAIC,OAAO,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAI;QAC9B,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;QAC/BD,MAAM,CAACE,aAAa,CAACN,UAAU,CAAC;QAChCI,MAAM,CAACG,SAAS,gBAAA7C,iBAAA,CAAG,aAAW;UAC5BwC,GAAG,CAACE,MAAM,CAACI,MAAM,CAAC;QACpB,CAAC;MACH,CAAC,CAAC;IACJ,CAAC;IAAA,gBAAAV,wBAAAW,GAAA;MAAA,OAAAV,KAAA,CAAAnB,KAAA,OAAAC,SAAA;IAAA;EAAA;EAED6B,eAAe;IAAA,IAAAC,KAAA,GAAAjD,iBAAA,CAAE,WAAOkD,UAAU,EAAEC,OAAO,EAAEjD,eAAe,EAAI;MAC9D,MAAMC,QAAQ,SAASC,KAAK,CAAC,2CAA2C8C,UAAU,gBAAgB,EAAE;QAClG7C,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE,SAAS;QACfC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUN,eAAe,EAAE;UAC1C,cAAc,EAAE;SACjB;QACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEyC,IAAI,EAAED;QAAO,CAAE;OACvC,CAAC;MACF,MAAMtC,IAAI,SAASV,QAAQ,CAACW,IAAI,EAAE;MAClC,OAAOD,IAAI;IACb,CAAC;IAAA,gBAAAmC,gBAAAK,GAAA,EAAAC,GAAA,EAAAC,IAAA;MAAA,OAAAN,KAAA,CAAA/B,KAAA,OAAAC,SAAA;IAAA;EAAA;EAEDqC,4BAA4B;IAAA,IAAAC,KAAA,GAAAzD,iBAAA,CAAE,WAAOmD,OAAO,EAAEjD,eAAe,EAAI;MAC/D,IAAI;QACF,MAAMC,QAAQ,SAASC,KAAK,CAAC,4DAA4D,EAAE;UACzFC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUN,eAAe,EAAE;YAC1C,cAAc,EAAE;WACjB;UACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAEyC,IAAI,EAAED;UAAO,CAAE;SACvC,CAAC;QACF,aAAahD,QAAQ,CAACW,IAAI,EAAE;OAC7B,CAAC,OAAO4C,KAAK,EAAE;QACd,MAAMA,KAAK;;IAEf,CAAC;IAAA,gBAAAF,6BAAAG,IAAA,EAAAC,IAAA;MAAA,OAAAH,KAAA,CAAAvC,KAAA,OAAAC,SAAA;IAAA;EAAA;CACF;AAGD,eAAetB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}